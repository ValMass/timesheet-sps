<div class="modal-container">
  <div class="">
    <h1 mat-dialog-title>Aggiungi evento</h1>
    <h6 class="text-danger" *ngIf="aggiungiButtonDisabled" mat-dialog-title>{{errorMessage}}</h6>
  </div>
  <div mat-dialog-content>
    <form id='myform' class="p-1" [formGroup]="profileForm" (ngSubmit)="submit()">

      <div class="input-group">
        <h3>Data</h3>
        <!--<label for="dataevento">Data</label>-->
        <input class="input-number text-center mb-4" matInput [matDatepicker]="picker" #ref required
        (dateChange)="onDateChange($event)" formControlName="eventDate">
        <mat-datepicker-toggle matSuffix [for]="picker" class="bottone-data"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <div *ngIf="f.eventDate.errors && submitted">Campo obligatorio</div>
      </div>


      <div>
        <label for="cars" class="cod-contratto">Codice contratto</label>
        <select id="cars" name="cars" class="custom-select sel-text" formControlName="contractCode"
          (change)="onChangeSelect($event)" required>
          <option value="LAVORO" selected="selected">Lavoro ordinario</option>
          <option value="SEDE">Attività interna</option>
          <option value="PERMNON">Permesso non retribuito</option>
          <option value="PERMESS">Permesso generico</option>
          <option value="MALATT">Malattia</option>
          <option value="LUTTO">Lutto parente primo grado</option>
          <option value="AVIS">Donazione sangue</option>
          <option value="FERIE">Ferie</option>
          <option value="MATALA">Allattamento</option>
          <option value="ASPETT">Aspettativa</option>
          <option value="ELETTO">Permesso elettorale</option>
          <option value="FESTSOP">Festivita soppresse</option>
          <option value="MATERN">Maternita</option>
          <option value="MATFAC">Maternita facoltativa</option>
          <option value="MALFIG">Malattia figlio</option>
          <option value="MATRIMO">Matrimonio</option>
          <option value="PARTIME">Tempo parziale</option>
          <option value="PATRONO">Patrono</option>
          <option value="UNIVERS">Assenza esami universitari</option>
        </select>
        <div *ngIf="f.contractCode.errors && submitted">Campo obligatorio</div>
      </div>

      <div *ngIf="insertLavoro">
        <div>
          <label for="customRange3">Numero ore</label> {{ value }}
          <input type="number" class="custom-range inp-text input-number" value="8" min="0" max="12" step="1"
            id="customRange3" required formControlName="numeroOre" (input)="valueChanged($event)">
        </div>
        <div>
          <label for="codfatturazione" class="codfatturazione">Codice Fatturazione</label>
          <select id="codfatturazione" name="codfatturazione" class="custom-select sel-text"
            formControlName="codiceFatturazione" (change)="onChangeFattSelect($event)" required>
            <option value="01">Ore ordinarie fatturabili</option>
            <option value="02">Ore straordinarie fatturabili</option>
            <option value="03">Ore straordinarie festive fatturabili</option>
            <option value="04">Ore straordinarie notturne fatturabili</option>
            <option value="NF">Non fatturabili</option>
            <option value="RP">Ore di reperibilità</option>
            <option value="IN">Ore di intervento</option>
            <option value="TR">Trasferta</option>
          </select>
          <div *ngIf="f.codiceFatturazione.errors && submitted">Campo obligatorio</div>
        </div>

        <div class="form-group">
          <label for="customerId" class="">Attività per cliente</label>
          <div class="custom-select sel-text">
            <ng-select [items]="assignedact" bindLabel="act.name" formControlName="activityId" bindValue="act.id" [(ngModel)]="selectedValue">
            </ng-select>
          </div>
        </div>

        <div class="form-group row">
          <mat-checkbox class="example-margin" formControlName="smartWorking" [checked]="allComplete"
            labelPosition="before">
            Smart Working
          </mat-checkbox>
        </div>

      </div>

      <div *ngIf="insertMalattia">
        <div class="mb-4">
          <label for="numeroprotocollo" class="col-form-label">Numero protocollo</label>
          <input type="text" class="form-control input-number" id="numProtocollo" placeholder="Numero protocollo"
            formControlName="numProtocollo" />
        </div>
      </div>
      <div *ngIf="insertNumeroOre">
        <div>
          <label for="customRange3">Numero ore</label> {{ value }}
          <input type="number" class="custom-range inp-text" value="8" min="0" max="12" step="1" id="customRange3"
            required formControlName="numeroOre" (input)="valueChanged($event)">
        </div>
      </div>
    </form>

  </div>
  <div class="d-flex justify-content-between" mat-dialog-actions>
    <button type="button" mat-button mat-dialog-close class="btn btn-custom w-25" (click)="close()">Close</button>
    <button form='myform' type="submit" class="btn btn-custom w-25"
      >Aggiungi</button>
  </div>
</div>
